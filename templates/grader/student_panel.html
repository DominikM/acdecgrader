{% extends "base.html" %}
{% load staticfiles %}

{% block headers %}<title>Student Panel</title>{% endblock %}

{% block content %}
    <h1>Student Panel</h1>
    <div>
        <p>Choose an event: </p>
        <select class="ui dropdown" id="event-select" onchange="change_event(this)"></select>
    </div>

    <div class="person-table-container">
        <table class="ui celled fixed table">
            <thead>
                <tr>
                    <th colspan="1">First Name</th>
                    <th colspan="1">Last Name</th>
                    <th colspan="3">Rank</th>
                </tr>
            </thead>
            <tbody id="student-table">
                <tr>
                    <td colspan="5">Select an event to view students</td>
                </tr>
            </tbody>
        </table>
    </div>

    <div id="delete-modal" class="ui modal">
        <div class="header">Delete Student</div>
        <div class="content">Are you sure you want to delete this student?</div>
        <div class="actions">
            <div class="ui positive button">Yes</div>
            <div class="ui negative button">No</div>
        </div>
    </div>

    <div id="icons">
        <i class="large green checkmark box link icon"></i>
        <i class="large red remove circle link icon"></i>
        <i class="large minus square link icon"></i>
    </div>

    <script src="{% static 'js/student_view.js' %}"></script>
    <script>
    data = {{ data | safe }};
    state = {
        selected_event: null,
        show_students: [], // list of indices pointing towards data.students
        selected_student: null, // index of selected student in data.students
    };
    var icons_div = document.getElementById('icons');
    var event_selector = document.getElementById('event-select');
    var student_table = document.getElementById('student-table');
    var delete_student_modal = $('#delete-modal');
    window.onload = init_page();
    </script>
{% endblock %}